cmake_minimum_required (VERSION 3.17)

add_executable(
	Phantom.Coroutines.Test
	atomic_state_test.cpp
	type_traits_test.cpp
	task_test.cpp
	)

target_link_libraries(
	Phantom.Coroutines.Test
	PUBLIC
	Phantom.Coroutines
	GTest::gtest
	GTest::gtest_main
)

gtest_discover_tests(
	Phantom.Coroutines.Test
	EXTRA_ARGS --gtest_break_on_failure=1)
